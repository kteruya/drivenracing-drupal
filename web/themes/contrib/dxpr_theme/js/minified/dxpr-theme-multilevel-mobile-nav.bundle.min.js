!function(){var t={33:function(t){t.exports={extend:function(t,n){return Object.keys(n).forEach((function(e){Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})),t}}},693:function(t){t.exports={addBreadcrumb:function(t,n){if(!t.options.breadcrumbsCtrl)return!1;var e=document.createElement("a");e.innerHTML=n?t.menusArr[n].name:t.options.initialBreadcrumb,t.breadcrumbsCtrl.appendChild(e),e.addEventListener("click",(function(i){if(i.preventDefault(),!e.nextSibling||t.isAnimating)return!1;t.isAnimating=!0,t._menuOut();var r=t.menusArr[n].menuEl;t._menuIn(r);for(var a=e.nextSibling;a;)t.breadcrumbsCtrl.removeChild(a),a=e.nextSibling;t.isAnimating=!1}))}}},721:function(t){var n={animations:!0},e="animationend";t.exports={onEndAnimation:function(t,i){var r=function(t){if(n.animations){if(t.target!==this)return;this.removeEventListener(e,r)}i&&"function"==typeof i&&i.call()};n.animations?t.addEventListener(e,r):r()},support:n,animEndEventName:e}},790:function(t){function n(t){t.menusArr.forEach((function(n){n.menuItems.forEach((function(n,e){n.querySelector("a")&&n.querySelector("a").addEventListener("click",(function(n){var i=n.target.getAttribute("data-submenu"),r=n.target.innerHTML,a=t.el.querySelector('ul[data-menu="'.concat(i,'"]'));i&&a?(n.preventDefault(),t._openSubMenu(a,e,r)):(t.el.querySelector(".menu__link--current")&&t.el.querySelector(".menu__link--current").classList.remove("menu__link--current"),n.target.classList.add("menu__link--current"),t.options.onItemClick(n,r))}))}))})),t.options.backCtrl&&t.backCtrl.addEventListener("click",(function(){t._back()}))}t.exports={init:function(t){t.menusArr=[],t.menus.forEach((function(n,e){var i={menuEl:n,menuItems:[].slice.call(n.children)};t.menusArr.push(i),e===t.current&&n.classList.add("menu__level--current")})),t.options.backCtrl&&(t.backCtrl=document.createElement("button"),t.backCtrl.className="menu__back menu__back--hidden",t.backCtrl.setAttribute("aria-label","Go back"),t.backCtrl.innerHTML='<span class="icon icon--arrow-left"></span>',t.el.insertBefore(t.backCtrl,t.el.firstChild)),t.options.breadcrumbsCtrl&&(t.breadcrumbsCtrl=document.createElement("nav"),t.breadcrumbsCtrl.className="menu__breadcrumbs",t.el.insertBefore(t.breadcrumbsCtrl,t.el.firstChild),t._addBreadcrumb(0)),n(t)},initEvents:n}}},n={};function e(i){var r=n[i];if(void 0!==r)return r.exports;var a=n[i]={exports:{}};return t[i](a,a.exports,e),a.exports}var i=e(33).extend,r=e(721).onEndAnimation,a=e(790),s=a.init,o=a.initEvents,u=e(693).addBreadcrumb;!function(t){"use strict";function n(t,n){this.el=t,this.options=i({},this.options),i(this.options,n),this.menus=[].slice.call(this.el.querySelectorAll(".menu__level")),this.current=0,this._init()}n.prototype.options={breadcrumbsCtrl:!0,initialBreadcrumb:"all",backCtrl:!0,itemsDelayInterval:60,direction:"r2l",onItemClick:function(t,n){return!1}},n.prototype._init=function(){s(this)},n.prototype._initEvents=function(){o(this)},n.prototype._openSubMenu=function(t,n,e){if(this.isAnimating)return!1;this.isAnimating=!0,this.menusArr[this.menus.indexOf(t)].backIdx=this.current,this.menusArr[this.menus.indexOf(t)].name=e,this._menuOut(n),this._menuIn(t,n)},n.prototype._back=function(){if(this.isAnimating)return!1;this.isAnimating=!0,this._menuOut();var t=this.menusArr[this.menusArr[this.current].backIdx].menuEl;this._menuIn(t),this.options.breadcrumbsCtrl&&this.breadcrumbsCtrl.removeChild(this.breadcrumbsCtrl.lastElementChild)},n.prototype._menuOut=function(t){var n=this,e=this.menusArr[this.current].menuEl,i=void 0===t;this.menusArr[this.current].menuItems.forEach((function(e,r){var a="".concat(i?parseInt(r*n.options.itemsDelayInterval,10):parseInt(Math.abs(t-r)*n.options.itemsDelayInterval,10),"ms");e.style.WebkitAnimationDelay=a,e.style.animationDelay=a})),"r2l"===this.options.direction?e.classList.add(i?"animate-outToRight":"animate-outToLeft"):e.classList.add(i?"animate-outToLeft":"animate-outToRight")},n.prototype._menuIn=function(t,n){var e=this,i=this.menusArr[this.current].menuEl,a=void 0===n,s=this.menus.indexOf(t),o=this.menusArr[s].menuItems,u=o.length;o.forEach((function(o,c){var m="".concat(a?parseInt(c*e.options.itemsDelayInterval,10):parseInt(Math.abs(n-c)*e.options.itemsDelayInterval,10),"ms");o.style.WebkitAnimationDelay=m,o.style.animationDelay=m,c===(n<=u/2||a?u-1:0)&&r(o,(function(){"r2l"===e.options.direction?(i.classList.remove(a?"animate-outToRight":"animate-outToLeft"),t.classList.remove(a?"animate-inFromLeft":"animate-inFromRight")):(i.classList.remove(a?"animate-outToLeft":"animate-outToRight"),t.classList.remove(a?"animate-inFromRight":"animate-inFromLeft")),i.classList.remove("menu__level--current"),t.classList.add("menu__level--current"),e.current=s,a?0===e.current&&e.options.backCtrl&&e.backCtrl.classList.add("menu__back--hidden"):(e.options.backCtrl&&e.backCtrl.classList.remove("menu__back--hidden"),e._addBreadcrumb(s)),e.isAnimating=!1}))})),"r2l"===this.options.direction?t.classList.add(a?"animate-inFromLeft":"animate-inFromRight"):t.classList.add(a?"animate-inFromRight":"animate-inFromLeft")},n.prototype._addBreadcrumb=function(t){u(this,t)},t.MLMenu=n}(window)}();